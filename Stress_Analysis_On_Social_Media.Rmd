---
title: "Stress_Analysis_On_Reddit"
author: "Melanie McCord"
date: "9/30/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# load required packages
library(tidytext)
library(tidyverse)
library(caret)
source("./text_cleaning.R")
source("./ml_functions.R")
```
Now let's start off by reading in the training and test data.
```{r}
test_data <- read_csv("reddit_stress_data/dreaddit-test.csv")
train_data <- read_csv("reddit_stress_data/dreaddit-test.csv")
reddit_stress_data <- inner_join(train_data, test_data)
```
First, I'll start by creating a bag of words representation on my data, marking unknown variables correspondingly.
```{r}
bag_of_words_with_unknowns <- CreateBagOfWords(reddit_stress_data)
dim(bag_of_words_with_unknowns)
head(bag_of_words_with_unknowns, 2)
```
Since we have our bag of words model, let's mutate to represent the proportion of words for that variable.
```{r}
stress_data_with_bow <- reddit_stress_data %>%
  select(-text) %>%
  left_join(bag_of_words_with_unknowns, by = "id")
head(stress_data_with_bow, 2)
```
I want to plot the frequency distribution of the most common words by label. To do this, I will need to filter my words by label.
```{r}
labeled_bag_of_words <- bag_of_words_with_unknowns %>%
  add_column(reddit_stress_data$label)
```
I
```{r}
head(labeled_bag_of_words, 2)
```

